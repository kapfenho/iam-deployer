# Â´Oracle Identity and Access Management
#

VAGRANTFILE_API_VERSION = "2"

app_name       = "iam0.dwpbank.net"
app_name_short = "iam0"
app_ip         = "192.168.168.64"
app_pubip      = "192.168.1.250"
app_box        = "centos6min"
app_box_url    = "https://agoracon.at/boxes/centos6min.box"
# app_box_sha    = "bce6a99728ceaeb017f475ee734f676390cf8c49b6aed721a3247c204daa507f"

$hostfile = "# hostfile generated by vagrant provisioning
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
#{app_ip} #{app_name} #{app_name_short}"
 
Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|

  config.vm.provision "shell",  run: "always" do |s|
    s.inline = "cp -f /vagrant/user-config/hostenv/hosts /etc/hosts"
  end

  config.vm.provision "shell" do |s|
    s.inline = "/vagrant/libexec/vagrant-prov.sh"
  end

  config.vm.define :app, primary: true do |app|
    app.vm.box      = app_box
    app.vm.hostname = app_name
    app.vm.box_url  = app_box_url

    app.vm.network :private_network, ip: app_ip
    app.vm.network :public_network,  ip: app_pubip
    # app.vm.synced_folder "/Users/horst/Downloads/Software/oracle.com", "/mnt/oracle", nfs: true

    app.vm.provider :virtualbox do |v|
      v.name   = app_name
      v.cpus   = 4
      v.memory = 12288
    end
  end

end

# vi: set ft=ruby :
